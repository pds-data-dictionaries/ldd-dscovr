# DSCOVR (dscovr:) Mission Dictionary

The DSCOVR dictionary provides classes and attributes specific to the
DSCOVR (Deep Space Climate Observatory) mission.

### Steward
Robert Deen (rgdeen), Image node (IMG)

# Documentation

IMPORTANT NOTE:  This mission is a "rescue" mission, where PDS is saving
    the lunar data and making it available to the public before the mission
    gets canceled.  As such, we did not have time or resources to throroughly
    research the metadata.  It is basically copied straight from the documentation
    we have.  For example, we do not know what the Quaternion is rotating, the
    sense of the rotation, or even if it's scalar-first or scalar-last.  Hopefully
    these answers are buried in the documentation somewhere; if not, they must be
    divined by the user.  Since the primary Earth archive is with ASDC, presumably
    they will have better information.  It is not great that we have these
    holes, but better that than lose the data permanently.
    
    The following fields in the HDF are not transferred to this LDD, because
    they were not applicable to the lunar case:
      Lunar group:
        centroid_mean_latitude
        centroid_mean_longitude
        geolocation_algorithm
        geospatial_(lat|lon)_(min|max)
        granule_version
        image_set_date
        (max|min)imum_(latitude|longitude)
        product_level
        bottom_latitude
        bottom_longitude
        centroid_center_height
        centroid_center_(latitude|longitude)
        east_longitude
        left_latitude
        left_longitude
        north_latitude
        south_latitude
        top_latitude
        top_longitude
        west_longitude
      Image group:
        centroid_center_(latitude|longitude)
        centroid_column_offset
        centroid_row_offset
        coordsys
        darkspace
        percent_bad_pixels
        all of the pixel_type values (they're in the documentation instead)



# Latest Release

* Download dictionary files from the [PDS Data Dictionaries Page](https://pds.nasa.gov/datastandards/dictionaries/#dscovr)
* On [GitHub](../../releases/latest)
* Review the [Change log](src/PDS4_DSCOVR_Ingest_LDD.xml)

# About This Repository
In this repo you will find...
* **[src](src)/** - The directory containing the managed *IngestLDD* file
 that defines this namespace. This is where changes to the namespace
 itself are made.
* **[build](build)/** - This directory holds the files generated by the
build processing, including the schema files used in designing and
validating labels, JSON for inclusion in code, and report files from the
LDDTool execution that created the files. There are separate
subdirectories for development versions and releases.
* **[test](test)/** - This directory contains regression tests (in the
  form of documented labels) for this namespace.
* **[logs](logs)/** - This directory contains the logs generated by the
 GitHub-automated build and test processes of LDDTool and Validate.
* **[examples](examples)/** - This directory contains label samples for
using this namespace.
* **[.github](.github)/** - This (possibly hidden) directory contains
internal files used to manage the automated build processes.


The `main` branch is where you should merge your final changes to documentation and LDD structure.
The `gh-pages` branch is auto-generated and used to run the documentation site. **DO NOT MAKE CHANGES HERE**.

# Contributing to this Dictionary

## Suggest a Feature or Report a Bug

There is a common place to request enhancements and report problems for
any PDS-curated dictionary - the [PDS4 Issue Repo](https://github.com/pds-data-dictionaries/PDS4-LDD-Issue-Repo/issues/new/choose).
Search for the \[ldd-dscovr\] update request block and click the green
"Get Started" button.

## Contribute Code or documentation
If you'd like to actively contribute to development, begin with the
feature/bug process described above. Then familiarize yourself with
the [LDD Update Process](https://pds-data-dictionaries.github.io/development/ldd-update.html)
and contact the dictionary steward to coordinate development, testing,
and release. And thanks!

# General Support for Dictionary Developers
See the [PDS Data Dictionaries pages](https://pds-data-dictionaries.github.io)
for documentation and tutorials describing the procedures
required to reserve a namespace,
establish a new repo, and build your dictionary.

<!-- NOTE

     PDS needs a better suggestion than the following, but I'm hesitant
     to point to my wiki and I don't see the information clearly
     identified elsewhere...
-->
If you need help creating your *IngestLDD* file, contact the [Dictionary Stewards Group](https://pds-data-dictionaries.github.io/teams/pds-dd-stewards.html). Documentation is in preparation.

# For Dictionary Stewards

See the [tutorial on updating and building an IngestLDD](https://pds-data-dictionaries.github.io/support/tutorials.html#ldd-update-and-build-tutorial) and the [LDD Update Process](https://pds-data-dictionaries.github.io/development/ldd-update.html) for documentation of those procedures.

## Building the dictionary

Each build is auto-generated using Github Actions, PDS4 LDDTool, and Validate Tool.

You can also download the *IngestLDD* file and build the dictionary locally.
You will need to install *[LDDTool]* (https://nasa-pds.github.io/pds4-information-model/model-lddtool/index.html) on your system. Once you do,
you can manually run [LDDTool](https://nasa-pds.github.io/pds4-information-model/model-lddtool/index.html) on the IngestLDD using the following command:

```
lddtool -lpsnJ PDS4_DSCOVR_IngestLDD.xml
```

# Generating Namespace Documentation
The documentation website is managed by GitHub Pages. When changes are made on the `main` branch, GitHub will process those changes and update the `gh-pages` branch, which drives the website on pds-data-dictionaries.github.io. 

If you would like to test your changes and generate the site on your own system:

1. Clone the repository
2. Install Python dependencies (preferably within a Python virtual environment[^1]) using this command:
```
pip install -r requirements.txt
```
3. Follow steps below

[^1]: [Python Virtual Environment How-To at docs.python.org](https://docs.python.org/3/library/venv.html)

## To Generate HTML

1. Build the HTML documents
```
cd docs
make clean html
```
   Note that in Windows environments you will need to run the "clean" and "html" operations as separate invocations of "make":
```
cd docs
make clean
make html
````

2. Preview the HTML in your browser
```
open build/html/index.html
```

## To Generate PDF

1. Install some additional dependencies:

   On a Mac:
   ```
   brew install texlive
   ```

   On Linux:
   ```
   apt-get install texlive-latex-recommended texlive-latex-extra texlive-fonts-recommended
   ```

2. Make the PDF
```
cd docs
make latexpdf
```

The output PDF will be written into the *docs/* directory.
The output file name will depend on the value for the ```project``` variable
in the *docs/source/conf.py* file.
